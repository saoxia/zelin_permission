(()=>{$(document).on("app_ready",function(){document.referrer.endsWith("/login")&&frappe.call({method:"zelin_permission.api.get_button_check_map",callback:function(c){c.message&&(frappe.button_check_map=c.message)}})});var a=class extends frappe.ui.form.Form{add_custom_button(t,_,n){let o=frappe.button_check_map;if(o){let i=o[this.doctype],e=i?i[t]:void 0;if(i&&!n&&e&&!frappe.model.can_write(e)&&(t in i||__(t)in i))return;let r=o.All;if((e===void 0||!e)&&(e=r&&r[t]),e&&n){if(in_list([__("Create"),"Create"]),n){if(!frappe.model.can_create(e))return}else if(in_list([__("View"),"View"]),n&&!frappe.model.can_read(e))return}}return super.add_custom_button(t,_,n)}};frappe.ui.form.Form=a;})();
//# sourceMappingURL=zelin_permission.bundle.WE5NZ3PN.js.map
