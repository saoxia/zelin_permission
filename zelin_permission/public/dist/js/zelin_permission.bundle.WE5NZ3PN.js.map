{
  "version": 3,
  "sources": ["../../../../../apps/zelin_permission/zelin_permission/public/js/zelin_permission.js", "../../../../../apps/zelin_permission/zelin_permission/public/js/form.js"],
  "sourcesContent": ["$(document).on('app_ready', function() {\n\tif (document.referrer.endsWith(\"/login\")) {\n\t\t// app ready after login, let's rumble\n\t\t//console.log(\"zelin permission after login event trigger\");\n\t\t// get persistent session settings\n\t\tfrappe.call({\n\t\t\t'method': \"zelin_permission.api.get_button_check_map\",\n\t\t\t'callback': function(response) {\n\t\t\t\tif (response.message) {\n\t\t\t\t\t//console.log(response.message);\n                    frappe.button_check_map = response.message;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});", "\nconst MyForm = class MyForm extends frappe.ui.form.Form {\n\tadd_custom_button(label, fn, group){\n        const button_check_map = frappe.button_check_map;\n        if (button_check_map){\n            const doctype_button = button_check_map[this.doctype];\n            let check_doctype = doctype_button? doctype_button[label] : undefined;\n            //Update Items in PO/SO toolbar button\n            if (doctype_button && ! group && check_doctype &&\n                (! frappe.model.can_write(check_doctype)) && (label in doctype_button || __(label) in doctype_button)){\n                return\n            }\n            const all_button =button_check_map['All'];            \n            if (check_doctype === undefined || !check_doctype){\n                check_doctype = all_button && all_button[label]\n            }\n            if (check_doctype){\n                if (group){\n                    if (in_list([__('Create'), 'Create']), group){\n                        if (! frappe.model.can_create(check_doctype)) return\n                    }else if(in_list([__('View'), 'View']), group){\n                        if (! frappe.model.can_read(check_doctype)) return\n                    } \n                }\n            }        \n        }\n        return super.add_custom_button(label, fn, group)\n    }\n}\n\nfrappe.ui.form.Form = MyForm\n"],
  "mappings": "MAAA,EAAE,QAAQ,EAAE,GAAG,YAAa,UAAW,CACtC,AAAI,SAAS,SAAS,SAAS,QAAQ,GAItC,OAAO,KAAK,CACX,OAAU,4CACV,SAAY,SAAS,EAAU,CAC9B,AAAI,EAAS,SAEG,QAAO,iBAAmB,EAAS,QAEpD,CACD,CAAC,CAEH,CAAC,ECdD,GAAM,GAAS,aAAqB,QAAO,GAAG,KAAK,IAAK,CACvD,kBAAkB,EAAO,EAAI,EAAM,CAC5B,GAAM,GAAmB,OAAO,iBAChC,GAAI,EAAiB,CACjB,GAAM,GAAiB,EAAiB,KAAK,SACzC,EAAgB,EAAgB,EAAe,GAAS,OAE5D,GAAI,GAAkB,CAAE,GAAS,GAC5B,CAAE,OAAO,MAAM,UAAU,CAAa,GAAO,KAAS,IAAkB,GAAG,CAAK,GAAK,IACtF,OAEJ,GAAM,GAAY,EAAiB,IAInC,GAHI,KAAkB,QAAa,CAAC,IAChC,GAAgB,GAAc,EAAW,IAEzC,GACI,GACA,GAAI,QAAQ,CAAC,GAAG,QAAQ,EAAG,QAAQ,CAAC,EAAG,GACnC,GAAI,CAAE,OAAO,MAAM,WAAW,CAAa,EAAG,eACzC,QAAQ,CAAC,GAAG,MAAM,EAAG,MAAM,CAAC,EAAG,GAChC,CAAE,OAAO,MAAM,SAAS,CAAa,EAAG,OAI5D,CACA,MAAO,OAAM,kBAAkB,EAAO,EAAI,CAAK,CACnD,CACJ,EAEA,OAAO,GAAG,KAAK,KAAO",
  "names": []
}
